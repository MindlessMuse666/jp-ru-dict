import{x as v,u as k,r as p,b as h,C as V,c as a,e as s,y as L,i as c,g as i,v as u,t as P,j as f,f as _,h as C,z as M,A as R,o as l}from"./main-DPH9I6cG.js";const S={class:"max-w-md mx-auto"},q={class:"bg-white rounded-lg shadow-md p-8"},B={key:0,class:"mt-1 text-sm text-red-600"},N={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},U={class:"flex items-center"},z={class:"text-red-800"},T=["disabled"],A={key:0},D={key:1},E={class:"text-center pt-4 border-t"},j={class:"text-gray-600"},G={__name:"RegisterView",setup(H){const b=R(),g=v(),{showSuccess:x}=k(),n=p(!1),o=p(""),r=h({name:"",email:"",password:"",confirmPassword:""}),m=V(()=>r.password!==r.confirmPassword&&r.confirmPassword.length>0),y=async()=>{if(!m.value){n.value=!0,o.value="";try{const d=await g.register(r.email,r.password,r.name);d.success?(x("Регистрация прошла успешно"),b.push({name:"Home"})):o.value=d.error}catch{o.value="Произошла ошибка при регистрации"}finally{n.value=!1}}};return(d,e)=>{const w=M("RouterLink");return l(),a("div",S,[s("div",q,[e[12]||(e[12]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-800 mb-2"},"Регистрация"),s("p",{class:"text-gray-600"},"Создайте новый аккаунт")],-1)),s("form",{onSubmit:L(y,["prevent"]),class:"space-y-6"},[s("div",null,[e[4]||(e[4]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Имя ",-1)),i(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>r.name=t),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Иван Иванов"},null,512),[[u,r.name]])]),s("div",null,[e[5]||(e[5]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),i(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>r.email=t),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"user@example.com"},null,512),[[u,r.email]])]),s("div",null,[e[6]||(e[6]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Пароль ",-1)),i(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),type:"password",required:"",minlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"••••••••"},null,512),[[u,r.password]]),e[7]||(e[7]=s("p",{class:"mt-1 text-sm text-gray-500"},"Минимум 6 символов",-1))]),s("div",null,[e[8]||(e[8]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"}," Подтверждение пароля ",-1)),i(s("input",{id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=t=>r.confirmPassword=t),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"••••••••"},null,512),[[u,r.confirmPassword]]),m.value?(l(),a("p",B," Пароли не совпадают ")):c("",!0)]),o.value?(l(),a("div",N,[s("div",U,[e[9]||(e[9]=s("svg",{class:"w-5 h-5 text-red-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),s("span",z,P(o.value),1)])])):c("",!0),s("button",{type:"submit",disabled:n.value||m.value,class:"w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(l(),a("span",A,"Регистрация...")):(l(),a("span",D,"Зарегистрироваться"))],8,T),s("div",E,[s("p",j,[e[11]||(e[11]=f(" Уже есть аккаунт? ",-1)),_(w,{to:{name:"Login"},class:"text-primary hover:text-primary/80 font-medium"},{default:C(()=>[...e[10]||(e[10]=[f(" Войти ",-1)])]),_:1})])])],32)])])}}};export{G as default};
