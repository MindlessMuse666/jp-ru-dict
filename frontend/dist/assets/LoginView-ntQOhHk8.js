import{x as g,u as w,r as n,b as h,c as l,e as s,y as _,i as k,g as u,v as c,t as L,j as p,f as V,h as B,z as R,A as S,B as C,o as d}from"./main-DPH9I6cG.js";const M={class:"max-w-md mx-auto"},N={class:"bg-white rounded-lg shadow-md p-8"},q={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},z={class:"flex items-center"},T={class:"text-red-800"},A=["disabled"],D={key:0},E={key:1},U={class:"text-center pt-4 border-t"},j={class:"text-gray-600"},H={__name:"LoginView",setup(F){const m=S(),f=C(),b=g(),{showSuccess:x}=w(),r=n(!1),o=n(""),t=h({email:"",password:""}),y=async()=>{r.value=!0,o.value="";try{const a=await b.login(t.email,t.password);if(a.success){x("Вы успешно вошли в систему");const e=f.query.redirect||"/";m.push(e)}else o.value=a.error}catch{o.value="Произошла ошибка при входе"}finally{r.value=!1}};return(a,e)=>{const v=R("RouterLink");return d(),l("div",M,[s("div",N,[e[7]||(e[7]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-800 mb-2"},"Вход в систему"),s("p",{class:"text-gray-600"},"Введите свои учетные данные")],-1)),s("form",{onSubmit:_(y,["prevent"]),class:"space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),u(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>t.email=i),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"user@example.com"},null,512),[[c,t.email]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Пароль ",-1)),u(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"••••••••"},null,512),[[c,t.password]])]),o.value?(d(),l("div",q,[s("div",z,[e[4]||(e[4]=s("svg",{class:"w-5 h-5 text-red-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),s("span",T,L(o.value),1)])])):k("",!0),s("button",{type:"submit",disabled:r.value,class:"w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?(d(),l("span",D,"Вход...")):(d(),l("span",E,"Войти"))],8,A),s("div",U,[s("p",j,[e[6]||(e[6]=p(" Нет аккаунта? ",-1)),V(v,{to:{name:"Register"},class:"text-primary hover:text-primary/80 font-medium"},{default:B(()=>[...e[5]||(e[5]=[p(" Зарегистрироваться ",-1)])]),_:1})])])],32)])])}}};export{H as default};
